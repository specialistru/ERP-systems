# üìò –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –Ω–∞–±–æ—Ä –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ C++ ‚Äî —á–∞—Å—Ç—å 4

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∏ –ø—Ä–∏–º–µ—Ä—ã –∏–∑ —Ä–µ–∞–ª—å–Ω–æ–π ERP

---

## 19. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Builder + Composite + Observer ‚Äî –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ —Å–ª–æ–∂–Ω—ã—Ö UI-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —Å —Ä–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å—é

### –ö–µ–π—Å

ERP-—Å–∏—Å—Ç–µ–º–∞ —Å—Ç—Ä–æ–∏—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –æ—Ç—á–µ—Ç–æ–≤ —Å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–º –º–µ–Ω—é –∏ —Ä–µ–∞–≥–∏—Ä—É–µ—Ç –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö.

### –ö—Ä–∞—Ç–∫–∏–π –ø—Ä–∏–º–µ—Ä

```cpp
#include <iostream>
#include <vector>
#include <memory>
#include <string>
#include <functional>

// Observer ‚Äî –æ–ø–æ–≤–µ—â–µ–Ω–∏–µ –æ–± –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö
class Observer {
public:
    virtual void update() = 0;
};

class Subject {
    std::vector<Observer*> observers;
public:
    void subscribe(Observer* o) {
        observers.push_back(o);
    }
    void notify() {
        for (auto o : observers) {
            o->update();
        }
    }
};

// Composite ‚Äî —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–µ–Ω—é
class MenuComponent {
public:
    virtual void display() = 0;
    virtual ~MenuComponent() = default;
};

class MenuItem : public MenuComponent {
    std::string name;
public:
    MenuItem(const std::string& n) : name(n) {}
    void display() override {
        std::cout << "MenuItem: " << name << std::endl;
    }
};

class Menu : public MenuComponent {
    std::vector<std::shared_ptr<MenuComponent>> items;
public:
    void add(std::shared_ptr<MenuComponent> item) {
        items.push_back(item);
    }
    void display() override {
        std::cout << "Menu:" << std::endl;
        for (auto& i : items) {
            i->display();
        }
    }
};

// Builder ‚Äî —Å—Ç—Ä–æ–∏—Ç –º–µ–Ω—é –ø–æ –¥–∞–Ω–Ω—ã–º
class MenuBuilder {
    std::shared_ptr<Menu> menu = std::make_shared<Menu>();
public:
    void buildItem(const std::string& name) {
        menu->add(std::make_shared<MenuItem>(name));
    }
    std::shared_ptr<Menu> getMenu() {
        return menu;
    }
};

// –†–µ–∞–∫—Ç–∏–≤–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç, –æ–±–Ω–æ–≤–ª—è–µ—Ç –º–µ–Ω—é –ø–æ —Å–æ–±—ã—Ç–∏—é
class ReactiveMenu : public Observer {
    Subject& subject;
    MenuBuilder builder;
    std::shared_ptr<Menu> menu;
public:
    ReactiveMenu(Subject& s) : subject(s) {
        subject.subscribe(this);
        update();
    }
    void update() override {
        std::cout << "–û–±–Ω–æ–≤–ª—è–µ–º –º–µ–Ω—é –Ω–∞ —Å–æ–±—ã—Ç–∏–µ" << std::endl;
        builder = MenuBuilder();
        // –î–æ–ø—É—Å—Ç–∏–º, –º–µ–Ω—é –º–µ–Ω—è–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏, –≤–æ—Ç –ø—Ä–∏–º–µ—Ä:
        builder.buildItem("–û—Ç—á–µ—Ç –ø—Ä–æ–¥–∞–∂");
        builder.buildItem("–û—Ç—á–µ—Ç –ø–æ —Å–∫–ª–∞–¥—É");
        menu = builder.getMenu();
        menu->display();
    }
};

int main() {
    Subject dataSource;

    ReactiveMenu reactiveMenu(dataSource);

    std::cout << "–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è..." << std::endl;
    dataSource.notify();

    std::cout << "–î–∞–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–∏–ª–∏—Å—å..." << std::endl;
    dataSource.notify();

    return 0;
}
```

### –ó–∞–¥–∞–Ω–∏—è:

1. –î–æ–±–∞–≤—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö –º–µ–Ω—é –≤ `MenuBuilder`.
2. –°–¥–µ–ª–∞–π –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –º–µ–Ω—é.
3. –ü–æ–¥–∫–ª—é—á–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫ —Ä–µ–∞–ª—å–Ω–æ–º—É –∏—Å—Ç–æ—á–Ω–∏–∫—É –¥–∞–Ω–Ω—ã—Ö —Å –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏.

---

## 20. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Proxy + Chain of Responsibility + Mediator ‚Äî –ö–æ–Ω—Ç—Ä–æ–ª—å –¥–æ—Å—Ç—É–ø–∞ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥

### –ö–µ–π—Å

ERP –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç –¥–æ—Å—Ç—É–ø –∫ –º–æ–¥—É–ª—è–º –∏ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∏—Ä—É–µ—Ç –∫–æ–º–∞–Ω–¥—ã –ø–æ —Ä–æ–ª—è–º —Å —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–º –ø–æ—Å—Ä–µ–¥–Ω–∏–∫–æ–º.

### –ò–¥–µ—è –∫–æ–¥–∞ (—É–ø—Ä–æ—â—ë–Ω–Ω–æ)

```cpp
// Proxy –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –ø—Ä–æ–≤–µ—Ä–∫—É –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞,
// Chain ‚Äî –ø–µ—Ä–µ–¥–∞—á–∞ –∫–æ–º–∞–Ω–¥—ã –ø–æ —Ä–æ–ª—è–º,
// Mediator ‚Äî –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è –º–µ–∂–¥—É –º–æ–¥—É–ª—è–º–∏ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º.
```

*–ï—Å–ª–∏ —Ö–æ—á–µ—à—å ‚Äî –º–æ–≥—É –Ω–∞–ø–∏—Å–∞—Ç—å –ø–æ–ª–Ω—ã–π –ø—Ä–∏–º–µ—Ä.*

---

## 21. –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ ERP –Ω–∞ C++

* –†–∞–∑–¥–µ–ª—è–π —Å–ª–æ–∏: –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É, –¥–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º.
* –ò—Å–ø–æ–ª—å–∑—É–π –ø–∞—Ç—Ç–µ—Ä–Ω—ã –¥–ª—è —É–ø—Ä–æ—â–µ–Ω–∏—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∏.
* –ü—Ä–∏–º–µ–Ω—è–π —É–º–Ω—ã–µ —É–∫–∞–∑–∞—Ç–µ–ª–∏ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–∞–º—è—Ç—å—é.
* –í–Ω–µ–¥—Ä—è–π –º–æ–¥—É–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã ‚Äî –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–∞—Ç—Ç–µ—Ä–Ω–∞ –∏ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏.
* –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä—É–π —Å–±–æ—Ä–∫—É –∏ CI/CD.
* –ü—Ä–∏–º–µ–Ω—è–π —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ã C++ (C++17/20) –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.

---

–•–æ—á–µ—à—å, —á—Ç–æ–±—ã —è:

* –°–¥–µ–ª–∞–ª –ø–æ–ª–Ω—ã–π –ø—Ä–∏–º–µ—Ä –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ Proxy+Chain+Mediator?
* –ü–æ–¥–≥–æ—Ç–æ–≤–∏–ª –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π —à–∞–±–ª–æ–Ω –¥–ª—è ERP –Ω–∞ C++?
* –ü–æ–º–æ–≥ —Å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –∏ –ø—Ä–∏–º–µ—Ä–∞–º–∏ –Ω–∞ GoogleTest?
