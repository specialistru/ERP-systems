# üìò –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –Ω–∞–±–æ—Ä –ø—Ä–∏–º–µ—Ä–æ–≤ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ C++ ‚Äî —á–∞—Å—Ç—å 2

---

## 7. Adapter ‚Äî –ê–¥–∞–ø—Ç–∞—Ü–∏—è —Å—Ç–æ—Ä–æ–Ω–Ω–µ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

### –ü—Ä–∏–º–µ—Ä

```cpp
#include <iostream>

// –°—Ç–∞—Ä—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
class LegacyPrinter {
public:
    void oldPrint(const std::string& text) {
        std::cout << "–ü–µ—á–∞—Ç—å (—Å—Ç–∞—Ä—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å): " << text << std::endl;
    }
};

// –ù–æ–≤—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
class IPrinter {
public:
    virtual void print(const std::string& text) = 0;
    virtual ~IPrinter() = default;
};

// –ê–¥–∞–ø—Ç–µ—Ä, –ø—Ä–µ–≤—Ä–∞—â–∞—é—â–∏–π LegacyPrinter –≤ IPrinter
class PrinterAdapter : public IPrinter {
    LegacyPrinter* legacyPrinter;
public:
    PrinterAdapter(LegacyPrinter* printer) : legacyPrinter(printer) {}
    void print(const std::string& text) override {
        legacyPrinter->oldPrint(text);
    }
};

int main() {
    LegacyPrinter legacy;
    PrinterAdapter adapter(&legacy);
    adapter.print("–î–æ–∫—É–º–µ–Ω—Ç ERP");

    return 0;
}
```

### –ó–∞–¥–∞–Ω–∏—è:

1. –î–æ–±–∞–≤—å –∞–¥–∞–ø—Ç–µ—Ä –¥–ª—è –¥—Ä—É–≥–æ–≥–æ —Å—Ç–∞—Ä–æ–≥–æ –∫–ª–∞—Å—Å–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä, `LegacyScanner`.
2. –†–µ–∞–ª–∏–∑—É–π –ø–∞—Ç—Ç–µ—Ä–Ω —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —É–º–Ω—ã—Ö —É–∫–∞–∑–∞—Ç–µ–ª–µ–π.
3. –°–æ–∑–¥–∞–π —Ü–µ–ø–æ—á–∫—É –∞–¥–∞–ø—Ç–µ—Ä–æ–≤ –¥–ª—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å—Ç–∞—Ä—ã—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤.

---

## 8. Composite ‚Äî –ö–æ–º–ø–æ–Ω–æ–≤–∫–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –º–µ–Ω—é ERP)

### –ü—Ä–∏–º–µ—Ä

```cpp
#include <iostream>
#include <vector>
#include <memory>

class Component {
public:
    virtual void operation() = 0;
    virtual ~Component() = default;
};

class Leaf : public Component {
    std::string name;
public:
    Leaf(const std::string& n) : name(n) {}
    void operation() override {
        std::cout << "–õ–∏—Å—Ç: " << name << std::endl;
    }
};

class Composite : public Component {
    std::vector<std::shared_ptr<Component>> children;
public:
    void add(std::shared_ptr<Component> component) {
        children.push_back(component);
    }
    void operation() override {
        std::cout << "–ö–æ–º–ø–æ–∑–∏—Ç–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç:" << std::endl;
        for (auto& child : children) {
            child->operation();
        }
    }
};

int main() {
    auto root = std::make_shared<Composite>();
    root->add(std::make_shared<Leaf>("–ü—É–Ω–∫—Ç –º–µ–Ω—é 1"));
    root->add(std::make_shared<Leaf>("–ü—É–Ω–∫—Ç –º–µ–Ω—é 2"));

    auto submenu = std::make_shared<Composite>();
    submenu->add(std::make_shared<Leaf>("–ü–æ–¥–ø—É–Ω–∫—Ç 1"));
    submenu->add(std::make_shared<Leaf>("–ü–æ–¥–ø—É–Ω–∫—Ç 2"));

    root->add(submenu);

    root->operation();

    return 0;
}
```

### –ó–∞–¥–∞–Ω–∏—è:

1. –î–æ–±–∞–≤—å –º–µ—Ç–æ–¥ —É–¥–∞–ª–µ–Ω–∏—è –¥–æ—á–µ—Ä–Ω–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤.
2. –†–µ–∞–ª–∏–∑—É–π –ø–æ–∏—Å–∫ —ç–ª–µ–º–µ–Ω—Ç–∞ –ø–æ –∏–º–µ–Ω–∏.
3. –î–æ–±–∞–≤—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤–∏–¥–∏–º–æ—Å—Ç—å).

---

## 9. Proxy ‚Äî –ó–∞—â–∏—Ç–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ –æ–±—ä–µ–∫—Ç—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–æ—Å—Ç—É–ø –∫ –±–∞–∑–µ)

### –ü—Ä–∏–º–µ—Ä

```cpp
#include <iostream>
#include <string>

class Database {
public:
    void query(const std::string& sql) {
        std::cout << "–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–∞: " << sql << std::endl;
    }
};

class DatabaseProxy {
    Database db;
    bool hasAccess;
public:
    DatabaseProxy(bool access) : hasAccess(access) {}
    void query(const std::string& sql) {
        if (hasAccess) {
            db.query(sql);
        } else {
            std::cout << "–î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â–µ–Ω!" << std::endl;
        }
    }
};

int main() {
    DatabaseProxy dbProxy(true);
    dbProxy.query("SELECT * FROM users");

    DatabaseProxy dbProxyNoAccess(false);
    dbProxyNoAccess.query("SELECT * FROM users");

    return 0;
}
```

### –ó–∞–¥–∞–Ω–∏—è:

1. –î–æ–±–∞–≤—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –ø—Ä–æ–∫—Å–∏.
2. –†–µ–∞–ª–∏–∑—É–π –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –∑–∞–ø—Ä–æ—Å–∞.
3. –°–¥–µ–ª–∞–π –ø—Ä–æ–∫—Å–∏ –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã–º.

---

## 10. Builder ‚Äî –ü–æ—Å—Ç—Ä–æ–∏—Ç–µ–ª—å —Å–ª–æ–∂–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –æ—Ç—á–µ—Ç)

### –ü—Ä–∏–º–µ—Ä

```cpp
#include <iostream>
#include <string>

class Report {
public:
    std::string header;
    std::string body;
    std::string footer;

    void show() {
        std::cout << header << "\n" << body << "\n" << footer << std::endl;
    }
};

class ReportBuilder {
protected:
    Report report;
public:
    virtual void buildHeader() = 0;
    virtual void buildBody() = 0;
    virtual void buildFooter() = 0;
    virtual Report getReport() = 0;
    virtual ~ReportBuilder() = default;
};

class SalesReportBuilder : public ReportBuilder {
public:
    void buildHeader() override {
        report.header = "–û—Ç—á–µ—Ç –æ –ø—Ä–æ–¥–∞–∂–∞—Ö";
    }
    void buildBody() override {
        report.body = "–¢–µ–ª–æ –æ—Ç—á–µ—Ç–∞ —Å –¥–∞–Ω–Ω—ã–º–∏ –æ –ø—Ä–æ–¥–∞–∂–∞—Ö";
    }
    void buildFooter() override {
        report.footer = "–ö–æ–Ω–µ—Ü –æ—Ç—á–µ—Ç–∞";
    }
    Report getReport() override {
        return report;
    }
};

class Director {
    ReportBuilder* builder;
public:
    void setBuilder(ReportBuilder* b) { builder = b; }
    Report construct() {
        builder->buildHeader();
        builder->buildBody();
        builder->buildFooter();
        return builder->getReport();
    }
};

int main() {
    SalesReportBuilder salesBuilder;
    Director director;
    director.setBuilder(&salesBuilder);

    Report report = director.construct();
    report.show();

    return 0;
}
```

### –ó–∞–¥–∞–Ω–∏—è:

1. –°–æ–∑–¥–∞–π –Ω–æ–≤—ã–π –±–∏–ª–¥–µ—Ä –¥–ª—è –æ—Ç—á–µ—Ç–æ–≤ –ø–æ —Å–∫–ª–∞–¥—É.
2. –î–æ–±–∞–≤—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å—Ç—Ä–æ–∏—Ç—å –æ—Ç—á–µ—Ç —á–∞—Å—Ç–∏—á–Ω–æ (—Ç–æ–ª—å–∫–æ –∑–∞–≥–æ–ª–æ–≤–æ–∫ –∏ —Ç–µ–ª–æ).
3. –î–æ–±–∞–≤—å –º–µ—Ç–æ–¥—ã –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤—ã–≤–æ–¥ –¥–∞—Ç—ã).

---

## 11. Template Method ‚Äî –®–∞–±–ª–æ–Ω–Ω—ã–π –º–µ—Ç–æ–¥ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–æ—Ü–µ—Å—Å –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–∫–∞–∑–∞)

### –ü—Ä–∏–º–µ—Ä

```cpp
#include <iostream>

class OrderProcess {
public:
    void processOrder() {
        validateOrder();
        processPayment();
        shipOrder();
        notifyCustomer();
    }

    virtual void validateOrder() {
        std::cout << "–ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–∫–∞–∑–∞ (–±–∞–∑–æ–≤–∞—è –ª–æ–≥–∏–∫–∞)\n";
    }

    virtual void processPayment() = 0;
    virtual void shipOrder() = 0;

    virtual void notifyCustomer() {
        std::cout << "–£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞\n";
    }

    virtual ~OrderProcess() = default;
};

class OnlineOrder : public OrderProcess {
public:
    void processPayment() override {
        std::cout << "–û–ø–ª–∞—Ç–∞ –æ–Ω–ª–∞–π–Ω\n";
    }
    void shipOrder() override {
        std::cout << "–û—Ç–ø—Ä–∞–≤–∫–∞ –∫—É—Ä—å–µ—Ä–æ–º\n";
    }
};

int main() {
    OnlineOrder order;
    order.processOrder();

    return 0;
}
```

### –ó–∞–¥–∞–Ω–∏—è:

1. –°–æ–∑–¥–∞–π –∫–ª–∞—Å—Å `StorePickupOrder` —Å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π –¥–æ—Å—Ç–∞–≤–∫–∏.
2. –î–æ–±–∞–≤—å —à–∞–≥ –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞–ª–∏—á–∏—è —Ç–æ–≤–∞—Ä–∞ –≤ —à–∞–±–ª–æ–Ω–Ω—ã–π –º–µ—Ç–æ–¥.
3. –°–¥–µ–ª–∞–π –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–∫–ª—é—á–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∫–ª–∏–µ–Ω—Ç—É.

---

## 12. Iterator ‚Äî –ò—Ç–µ—Ä–∞—Ç–æ—Ä –ø–æ –∫–æ–ª–ª–µ–∫—Ü–∏—è–º (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–ø–∏—Å–æ–∫ –∫–ª–∏–µ–Ω—Ç–æ–≤)

### –ü—Ä–∏–º–µ—Ä

```cpp
#include <iostream>
#include <vector>
#include <string>

class ClientCollection {
    std::vector<std::string> clients;
public:
    void addClient(const std::string& name) {
        clients.push_back(name);
    }

    class Iterator {
        const ClientCollection& collection;
        size_t index = 0;
    public:
        Iterator(const ClientCollection& coll) : collection(coll) {}
        bool hasNext() const { return index < collection.clients.size(); }
        std::string next() { return collection.clients[index++]; }
    };

    Iterator getIterator() const {
        return Iterator(*this);
    }
};

int main() {
    ClientCollection clients;
    clients.addClient("–ò–≤–∞–Ω");
    clients.addClient("–ú–∞—Ä–∏—è");
    clients.addClient("–ü–µ—Ç—Ä");

    auto it = clients.getIterator();
    while (it.hasNext()) {
        std::cout << "–ö–ª–∏–µ–Ω—Ç: " << it.next() << std::endl;
    }

    return 0;
}
```

### –ó–∞–¥–∞–Ω–∏—è:

1. –î–æ–±–∞–≤—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —É–¥–∞–ª–µ–Ω–∏—è —Ç–µ–∫—É—â–µ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ –≤ –∏—Ç–µ—Ä–∞—Ç–æ—Ä.
2. –†–µ–∞–ª–∏–∑—É–π –∏—Ç–µ—Ä–∞—Ç–æ—Ä –¥–ª—è –æ–±—Ö–æ–¥–∞ –≤ –æ–±—Ä–∞—Ç–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ.
3. –î–æ–±–∞–≤—å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é –∫–ª–∏–µ–Ω—Ç–æ–≤ –ø–æ —É—Å–ª–æ–≤–∏—é (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ç–æ–ª—å–∫–æ VIP).
