# üìò –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –Ω–∞–±–æ—Ä –ø—Ä–∏–º–µ—Ä–æ–≤ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ C++ —Å –∑–∞–¥–∞–Ω–∏—è–º–∏

---

## 1. Singleton ‚Äî –ú–µ–Ω–µ–¥–∂–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

### –ü—Ä–∏–º–µ—Ä

```cpp
#include <iostream>
#include <mutex>

class ConfigManager {
private:
    static ConfigManager* instance;
    static std::mutex mutex;

    // –ü—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç —Å–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤ –∏–∑–≤–Ω–µ
    ConfigManager() {
        std::cout << "–ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏..." << std::endl;
    }

    // –ó–∞–ø—Ä–µ—â–∞–µ–º –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏–µ
    ConfigManager(const ConfigManager&) = delete;
    ConfigManager& operator=(const ConfigManager&) = delete;

public:
    static ConfigManager* getInstance() {
        std::lock_guard<std::mutex> lock(mutex);
        if (instance == nullptr) {
            instance = new ConfigManager();
        }
        return instance;
    }

    void showConfig() {
        std::cout << "–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏: –≤–µ—Ä—Å–∏—è 1.0" << std::endl;
    }
};

ConfigManager* ConfigManager::instance = nullptr;
std::mutex ConfigManager::mutex;

int main() {
    ConfigManager* cfg1 = ConfigManager::getInstance();
    ConfigManager* cfg2 = ConfigManager::getInstance();

    cfg1->showConfig();
    std::cout << "–ê–¥—Ä–µ—Å cfg1: " << cfg1 << std::endl;
    std::cout << "–ê–¥—Ä–µ—Å cfg2: " << cfg2 << std::endl;

    return 0;
}
```

### –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:

* –°–æ–∑–¥–∞–µ—Ç—Å—è –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä `ConfigManager`.
* –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –º—å—é—Ç–µ–∫—Å –¥–ª—è –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.
* –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–µ—â–µ–Ω–æ, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –æ–±—ä–µ–∫—Ç–∞.

### –ó–∞–¥–∞–Ω–∏—è:

1. –ü–µ—Ä–µ–¥–µ–ª–∞–π `ConfigManager` —Ç–∞–∫, —á—Ç–æ–±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è **—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –ª–æ–∫–∞–ª—å–Ω—ã–π –æ–±—ä–µ–∫—Ç** –≤–Ω—É—Ç—Ä–∏ `getInstance()` (Meyers‚Äô Singleton).
2. –î–æ–±–∞–≤—å –º–µ—Ç–æ–¥—ã –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏ –ø–æ–ª—É—á–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–ª–∏ –ø—É—Ç—å –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö).
3. –†–µ–∞–ª–∏–∑—É–π –º–µ—Ç–æ–¥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫ –≤ —Ñ–∞–π–ª.

---

## 2. Factory Method ‚Äî –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π ERP

### –ü—Ä–∏–º–µ—Ä

```cpp
#include <iostream>
#include <memory>
#include <string>

class User {
public:
    virtual void getRole() const = 0;
    virtual ~User() = default;
};

class Admin : public User {
public:
    void getRole() const override { std::cout << "–†–æ–ª—å: –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä\n"; }
};

class Manager : public User {
public:
    void getRole() const override { std::cout << "–†–æ–ª—å: –ú–µ–Ω–µ–¥–∂–µ—Ä\n"; }
};

class UserFactory {
public:
    static std::unique_ptr<User> createUser(const std::string& type) {
        if (type == "admin") return std::make_unique<Admin>();
        if (type == "manager") return std::make_unique<Manager>();
        return nullptr;
    }
};

int main() {
    auto admin = UserFactory::createUser("admin");
    auto manager = UserFactory::createUser("manager");

    admin->getRole();
    manager->getRole();

    return 0;
}
```

### –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:

* –§–∞–±—Ä–∏–∫–∞ —Å–æ–∑–¥–∞–µ—Ç –æ–±—ä–µ–∫—Ç—ã `User` —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –±–µ–∑ —Ä–∞—Å–∫—Ä—ã—Ç–∏—è –¥–µ—Ç–∞–ª–µ–π –∏—Ö —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏.
* –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è `unique_ptr` –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–∞–º—è—Ç—å—é.

### –ó–∞–¥–∞–Ω–∏—è:

1. –î–æ–±–∞–≤—å –Ω–æ–≤—ã–π —Ç–∏–ø –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è ‚Äî `Guest`.
2. –†–∞—Å—à–∏—Ä—å –∫–ª–∞—Å—Å `User` –º–µ—Ç–æ–¥–æ–º `getPermissions()`, –≤–æ–∑–≤—Ä–∞—â–∞—é—â–∏–º —Å–ø–∏—Å–æ–∫ –ø—Ä–∞–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —á—Ç–µ–Ω–∏–µ, –∑–∞–ø–∏—Å—å).
3. –°–¥–µ–ª–∞–π `UserFactory` –Ω–µ—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–º –∫–ª–∞—Å—Å–æ–º —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –Ω–æ–≤—ã—Ö —Ç–∏–ø–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏.

---

## 3. Observer ‚Äî –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö

### –ü—Ä–∏–º–µ—Ä

```cpp
#include <iostream>
#include <vector>
#include <algorithm>

class Observer {
public:
    virtual void update(int newValue) = 0;
    virtual ~Observer() = default;
};

class Subject {
    std::vector<Observer*> observers;
    int value = 0;
public:
    void attach(Observer* obs) { observers.push_back(obs); }
    void detach(Observer* obs) {
        observers.erase(std::remove(observers.begin(), observers.end(), obs), observers.end());
    }
    void setValue(int val) {
        value = val;
        notify();
    }
    void notify() {
        for (auto obs : observers) {
            obs->update(value);
        }
    }
};

class UIComponent : public Observer {
public:
    void update(int newValue) override {
        std::cout << "UI –æ–±–Ω–æ–≤–ª–µ–Ω, –Ω–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ: " << newValue << std::endl;
    }
};

int main() {
    Subject data;
    UIComponent ui;

    data.attach(&ui);
    data.setValue(42);
    data.setValue(100);

    return 0;
}
```

### –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:

* `UIComponent` –ø–æ–¥–ø–∏—Å–∞–Ω –Ω–∞ –æ–±—ä–µ–∫—Ç `Subject`.
* –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∑–Ω–∞—á–µ–Ω–∏—è —É `Subject` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è `update()` —É –≤—Å–µ—Ö –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤.

### –ó–∞–¥–∞–Ω–∏—è:

1. –î–æ–±–∞–≤—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–æ–¥–ø–∏—Å–∫–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö UI-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —Å —Ä–∞–∑–Ω—ã–º –ø–æ–≤–µ–¥–µ–Ω–∏–µ–º.
2. –†–µ–∞–ª–∏–∑—É–π –æ—Ç–ø–∏—Å–∫—É –æ—Ç —Å–æ–±—ã—Ç–∏–π.
3. –î–æ–±–∞–≤—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–µ—Ä–µ–¥–∞—á–∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤ `update()` (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ç–∏–ø —Å–æ–±—ã—Ç–∏—è).

---

## 4. Strategy ‚Äî –†–∞–∑–Ω—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã —Ä–∞—Å—á—ë—Ç–∞ —Å–∫–∏–¥–∫–∏

### –ü—Ä–∏–º–µ—Ä

```cpp
#include <iostream>

class DiscountStrategy {
public:
    virtual double applyDiscount(double price) = 0;
    virtual ~DiscountStrategy() = default;
};

class NoDiscount : public DiscountStrategy {
public:
    double applyDiscount(double price) override { return price; }
};

class SeasonalDiscount : public DiscountStrategy {
public:
    double applyDiscount(double price) override { return price * 0.85; }
};

class Context {
    DiscountStrategy* strategy;
public:
    Context(DiscountStrategy* strat) : strategy(strat) {}
    void setStrategy(DiscountStrategy* strat) { strategy = strat; }
    double execute(double price) { return strategy->applyDiscount(price); }
};

int main() {
    NoDiscount noDiscount;
    SeasonalDiscount seasonalDiscount;

    Context context(&noDiscount);
    std::cout << "–¶–µ–Ω–∞ –±–µ–∑ —Å–∫–∏–¥–∫–∏: " << context.execute(1000) << std::endl;

    context.setStrategy(&seasonalDiscount);
    std::cout << "–¶–µ–Ω–∞ —Å —Å–µ–∑–æ–Ω–Ω–æ–π —Å–∫–∏–¥–∫–æ–π: " << context.execute(1000) << std::endl;

    return 0;
}
```

### –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:

* –í –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –≤—ã–±—Ä–∞–Ω–Ω–æ–π —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –º–µ–Ω—è–µ—Ç—Å—è –ø–æ–≤–µ–¥–µ–Ω–∏–µ —Ä–∞—Å—á—ë—Ç–∞ —Å–∫–∏–¥–∫–∏.
* –ü–æ–∑–≤–æ–ª—è–µ—Ç –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –∫–æ–¥–∞.

### –ó–∞–¥–∞–Ω–∏—è:

1. –î–æ–±–∞–≤—å —Å—Ç—Ä–∞—Ç–µ–≥–∏—é `ClearanceDiscount`, –∫–æ—Ç–æ—Ä–∞—è —É–º–µ–Ω—å—à–∞–µ—Ç —Ü–µ–Ω—É –Ω–∞ 50%.
2. –ü–µ—Ä–µ–¥–µ–ª–∞–π `Context` –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å `std::unique_ptr` –Ω–∞ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è—Ö.
3. –î–æ–±–∞–≤—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å—Ç—Ä–∞—Ç–µ–≥–∏–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é —Å–∫–∏–¥–∫—É –∏–∑ –Ω–∞–±–æ—Ä–∞).

---

## 5. Decorator ‚Äî –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—ã–∑–æ–≤–æ–≤ –º–µ—Ç–æ–¥–æ–≤

### –ü—Ä–∏–º–µ—Ä

```cpp
#include <iostream>
#include <string>

class IDataSource {
public:
    virtual void writeData(const std::string& data) = 0;
    virtual ~IDataSource() = default;
};

class FileDataSource : public IDataSource {
public:
    void writeData(const std::string& data) override {
        std::cout << "–ó–∞–ø–∏—Å—å –≤ —Ñ–∞–π–ª: " << data << std::endl;
    }
};

class DataSourceDecorator : public IDataSource {
protected:
    IDataSource* wrappee;
public:
    DataSourceDecorator(IDataSource* source) : wrappee(source) {}
    void writeData(const std::string& data) override {
        wrappee->writeData(data);
    }
};

class LoggingDecorator : public DataSourceDecorator {
public:
    LoggingDecorator(IDataSource* source) : DataSourceDecorator(source) {}
    void writeData(const std::string& data) override {
        std::cout << "[–õ–æ–≥] –ó–∞–ø–∏—Å—å –¥–∞–Ω–Ω—ã—Ö: " << data << std::endl;
        DataSourceDecorator::writeData(data);
    }
};

int main() {
    FileDataSource fileDataSource;
    LoggingDecorator loggedDataSource(&fileDataSource);

    loggedDataSource.writeData("ERP –¥–∞–Ω–Ω—ã–µ");

    return 0;
}
```

### –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:

* –î–µ–∫–æ—Ä–∞—Ç–æ—Ä –¥–æ–±–∞–≤–ª—è–µ—Ç –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞.
* –ú–æ–∂–Ω–æ –æ–±–æ—Ä–∞—á–∏–≤–∞—Ç—å –æ–±—ä–µ–∫—Ç—ã –≤ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–ª–æ–µ–≤ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–æ–≤.

### –ó–∞–¥–∞–Ω–∏—è:

1. –î–æ–±–∞–≤—å –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä, –∫–æ—Ç–æ—Ä—ã–π —à–∏—Ñ—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ–¥ –∑–∞–ø–∏—Å—å—é.
2. –†–µ–∞–ª–∏–∑—É–π –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è—Ç—å –∏ —É–¥–∞–ª—è—Ç—å –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã.
3. –°–¥–µ–ª–∞–π —Ü–µ–ø–æ—á–∫—É –∏–∑ —Ç—Ä–µ—Ö –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–æ–≤: –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ, —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ, –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ.

---

## 6. State ‚Äî –°–æ—Å—Ç–æ—è–Ω–∏—è –∑–∞–∫–∞–∑–∞

### –ü—Ä–∏–º–µ—Ä

```cpp
#include <iostream>

class Order;

class State {
public:
    virtual void handle(Order* order) = 0;
    virtual ~State() = default;
};

class NewState : public State {
public:
    void handle(Order* order) override;
};

class ProcessingState : public State {
public:
    void handle(Order* order) override {
        std::cout << "–ó–∞–∫–∞–∑ –≤ –æ–±—Ä–∞–±–æ—Ç–∫–µ.\n";
    }
};

class Order {
    State* state;
public:
    Order(State* initState) : state(initState) {}
    void setState(State* newState) { state = newState; }
    void process() { state->handle(this); }
};

void NewState::handle(Order* order) {
    std::cout << "–ù–æ–≤—ã–π –∑–∞–∫–∞–∑, –Ω–∞—á–∏–Ω–∞–µ–º –æ–±—Ä–∞–±–æ—Ç–∫—É.\n";
    order->setState(new ProcessingState());
}

int main() {
    Order order(new NewState());
    order.process();
    order.process();

    return 0;
}
```

### –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:

* –ü–æ–≤–µ–¥–µ–Ω–∏–µ `Order` –º–µ–Ω—è–µ—Ç—Å—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è.
* –ú–æ–∂–Ω–æ –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è.

### –ó–∞–¥–∞–Ω–∏—è:

1. –î–æ–±–∞–≤—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ `CompletedState`, –∫–æ—Ç–æ—Ä–æ–µ –≤—ã–≤–æ–¥–∏—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –∑–∞–∫–∞–∑–∞.
2. –î–æ–±–∞–≤—å –º–µ—Ç–æ–¥ –æ—Ç–º–µ–Ω—ã –∑–∞–∫–∞–∑–∞, –∫–æ—Ç–æ—Ä—ã–π –º–µ–Ω—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –Ω–∞ `CancelledState`.
3. –°–¥–µ–ª–∞–π –ø–µ—Ä–µ—Ö–æ–¥—ã –º–µ–∂–¥—É —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏ –±–æ–ª–µ–µ –≥–∏–±–∫–∏–º–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤–æ–∑–≤—Ä–∞—Ç –∏–∑ `Processing` –≤ `New`).

---

# üéØ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:

* –°–Ω–∞—á–∞–ª–∞ –∏–∑—É—á–∞–π –ø—Ä–∏–º–µ—Ä –∏ –∑–∞–ø—É—Å–∫–∞–π –∫–æ–¥, —á—Ç–æ–±—ã –ø–æ–Ω—è—Ç—å, –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–∞—Ç—Ç–µ—Ä–Ω.
* –í—ã–ø–æ–ª–Ω—è–π –∑–∞–¥–∞–Ω–∏—è ‚Äî –æ–Ω–∏ –ø–æ–º–æ–≥—É—Ç –∑–∞–∫—Ä–µ–ø–∏—Ç—å –∑–Ω–∞–Ω–∏—è –∏ —Ä–∞—Å—à–∏—Ä–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å.
* –ü—Ä–æ–±—É–π –ø—Ä–∏–º–µ–Ω—è—Ç—å –ø–∞—Ç—Ç–µ—Ä–Ω—ã –≤ —Å–≤–æ–µ–º ERP-–ø—Ä–æ–µ–∫—Ç–µ, –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É—è —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –∑–∞–¥–∞—á–∞–º–∏.
